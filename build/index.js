(()=>{var e={737:e=>{(()=>{"use strict";var t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{default:()=>a});const a=function(e){var t=e.condition,r=e.show,a=e.elseShow,o=function(e){return"function"==typeof e},n=function(e){return e()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return t?o(r)?n(r):r:!t&&a?o(a)?n(a):a:null};e.exports=r})()}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";r.r(a),r.d(a,{Chatbot:()=>H,createChatBotMessage:()=>i,createClientMessage:()=>u,createCustomMessage:()=>l,default:()=>R,useChatbot:()=>T});const e=require("react");var t=r.n(e),o=r(737),n=r.n(o),s=function(){return s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},c=function(e,t){return{message:e,type:t,id:Math.round(Date.now()*Math.random())}},i=function(e,t){return s(s(s({},c(e,"bot")),t),{loading:!0})},l=function(e,t,r){return s(s({},c(e,t)),r)},u=function(e,t){return s(s({},c(e,"user")),t)},m=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e)return e.apply(void 0,t)};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(null,arguments)}const g=({styles:e={},...r})=>t().createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r),t().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"})),f=function(e){var r=e.message,a=e.customComponents;return t().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},t().createElement(n(),{condition:!!a.userChatMessage,show:m(a.userChatMessage,{message:r}),elseShow:t().createElement("div",{className:"react-chatbot-kit-user-chat-message"},r,t().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),t().createElement(n(),{condition:!!a.userAvatar,show:m(a.userAvatar),elseShow:t().createElement("div",{className:"react-chatbot-kit-user-avatar"},t().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},t().createElement(g,{className:"react-chatbot-kit-user-avatar-icon"})))}))},p=function(){return t().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},t().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},t().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},h=function(){return t().createElement("div",{className:"chatbot-loader-container"},t().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t().createElement("g",{stroke:"none",fill:"none"},t().createElement("g",{id:"chatbot-loader",fill:"#fff"},t().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),t().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),t().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var v=function(){return v=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};const y=function(r){var a=r.message,o=r.withAvatar,s=void 0===o||o,c=r.loading,i=r.messages,l=r.customComponents,u=r.setState,d=r.customStyles,g=r.delay,f=r.id,y=(0,e.useState)(!1),b=y[0],w=y[1];(0,e.useEffect)((function(){var e;return function(t,r){var a=750;g&&(a+=g),e=setTimeout((function(){var e=function(e,t,r){if(r||2===arguments.length)for(var a,o=0,n=t.length;o<n;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}([],t,!0).map((function(e){return e.id===f?v(v({},e),{loading:!1,delay:void 0}):e}));r((function(t){return v(v({},t),{messages:e})}))}),a)}(i,u),function(){clearTimeout(e)}}),[g,f]),(0,e.useEffect)((function(){g?setTimeout((function(){return w(!0)}),g):w(!0)}),[g]);var E={backgroundColor:""},P={borderRightColor:""};return d&&(E.backgroundColor=d.backgroundColor,P.borderRightColor=d.backgroundColor),t().createElement(n(),{condition:b,show:t().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},t().createElement(n(),{condition:s,show:t().createElement(n(),{condition:!!(null==l?void 0:l.botAvatar),show:m(null==l?void 0:l.botAvatar),elseShow:t().createElement(p,null)})}),t().createElement(n(),{condition:!!(null==l?void 0:l.botChatMessage),show:m(null==l?void 0:l.botChatMessage,{message:a,loader:t().createElement(h,null)}),elseShow:t().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:E},t().createElement(n(),{condition:c,show:t().createElement(h,null),elseShow:t().createElement("span",null,a)}),t().createElement(n(),{condition:s,show:t().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:P})}))}))})};function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b.apply(null,arguments)}const w=({styles:e={},...r})=>t().createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r),t().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}));var E=function(){return E=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},E.apply(this,arguments)},P=function(e,t,r){if(r||2===arguments.length)for(var a,o=0,n=t.length;o<n;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};const S=function(r){var a=r.state,o=r.setState,s=r.widgetRegistry,i=r.messageParser,l=r.parse,u=r.customComponents,m=r.actionProvider,d=r.botName,g=r.customStyles,p=r.headerText,h=r.customMessages,v=r.placeholderText,b=r.validator,S=r.disableScrollToBottom,O=r.messageHistory,k=r.actions,M=r.messageContainerRef,C=a.messages,x=(0,e.useState)(""),j=x[0],N=x[1],T=function(){setTimeout((function(){var e;M.current&&(M.current.scrollTop=null===(e=null==M?void 0:M.current)||void 0===e?void 0:e.scrollHeight)}),50)};(0,e.useEffect)((function(){S||T()}));var A=function(){o((function(e){return E(E({},e),{messages:P(P([],e.messages,!0),[c(j,"user")],!1)})})),T(),N("")},B={backgroundColor:""};g&&g.chatButton&&(B.backgroundColor=g.chatButton.backgroundColor);var H="Conversation with ".concat(d);p&&(H=p);var R="Write your message here";return v&&(R=v),t().createElement("div",{className:"react-chatbot-kit-chat-container"},t().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},t().createElement(n(),{condition:!!u.header,show:u.header&&u.header(m),elseShow:t().createElement("div",{className:"react-chatbot-kit-chat-header"},H)}),t().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:M},t().createElement(n(),{condition:"string"==typeof O&&Boolean(O),show:t().createElement("div",{dangerouslySetInnerHTML:{__html:O}})}),C.map((function(e,r){return"bot"===e.type?t().createElement(t().Fragment,{key:e.id},function(e,r){var c;c=e.withAvatar?e.withAvatar:function(e,t){if(0===t)return!0;var r=e[t-1];return!("bot"===r.type&&!r.widget)}(C,r);var i=E(E({},e),{setState:o,state:a,customComponents:u,widgetRegistry:s,messages:C,actions:k});if(e.widget){var l=s.getWidget(i.widget,E(E({},a),{scrollIntoView:T,payload:e.payload,actions:k}));return t().createElement(t().Fragment,null,t().createElement(y,E({customStyles:g.botMessageBox,withAvatar:c},i,{key:e.id})),t().createElement(n(),{condition:!i.loading,show:l||null}))}return t().createElement(y,E({customStyles:g.botMessageBox,key:e.id,withAvatar:c},i,{customComponents:u,messages:C,setState:o}))}(e,r)):"user"===e.type?t().createElement(t().Fragment,{key:e.id},function(e){var r=s.getWidget(e.widget,E(E({},a),{scrollIntoView:T,payload:e.payload,actions:k}));return t().createElement(t().Fragment,null,t().createElement(f,{message:e.message,key:e.id,customComponents:u}),r||null)}(e)):function(e,t){return!!t[e.type]}(e,h)?t().createElement(t().Fragment,{key:e.id},function(e){var r=h[e.type],n={setState:o,state:a,scrollIntoView:T,actionProvider:m,payload:e.payload,actions:k};if(e.widget){var c=s.getWidget(e.widget,E(E({},a),{scrollIntoView:T,payload:e.payload,actions:k}));return t().createElement(t().Fragment,null,r(n),c||null)}return r(n)}(e)):void 0})),t().createElement("div",{style:{paddingBottom:"15px"}})),t().createElement("div",{className:"react-chatbot-kit-chat-input-container"},t().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(e){if(e.preventDefault(),b&&"function"==typeof b){if(b(j)){if(A(),l)return l(j);i.parse(j)}}else{if(A(),l)return l(j);i.parse(j)}}},t().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:R,value:j,onChange:function(e){return N(e.target.value)}}),t().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:B},t().createElement(w,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},O=function(e){var r=e.message;return t().createElement("div",{className:"react-chatbot-kit-error"},t().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),t().createElement("div",{className:"react-chatbot-kit-error-container"},t().createElement(y,{message:r,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),t().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var k=function(e){return e.widgets?e.widgets:[]},M=function(e){try{new e}catch(e){return!1}return!0},C=function(){return C=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)};const x=function(e,t){var r=this;this.addWidget=function(e,t){var a=e.widgetName,o=e.widgetFunc,n=e.mapStateToProps,s=e.props;r[a]={widget:o,props:s,mapStateToProps:n,parentProps:C({},t)}},this.getWidget=function(e,t){var a=r[e];if(a){var o,n=C(C(C(C({scrollIntoView:t.scrollIntoView},a.parentProps),"object"==typeof(o=a.props)?o:{}),r.mapStateToProps(a.mapStateToProps,t)),{setState:r.setState,actionProvider:r.actionProvider||t.actions,actions:t.actions,state:t,payload:t.payload});return a.widget(n)||null}},this.mapStateToProps=function(e,t){if(e)return e.reduce((function(e,r){return e[r]=t[r],e}),{})},this.setState=e,this.actionProvider=t};var j=function(){return j=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)},N=function(e,t,r){if(r||2===arguments.length)for(var a,o=0,n=t.length;o<n;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};const T=function(r){var a=r.config,o=r.actionProvider,n=r.messageParser,s=r.messageHistory,c=r.runInitialMessagesWithHistory,m=r.saveMessages,d=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]])}return r}(r,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),g="",f="";if(!a||!o||!n)return{configurationError:g="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var p=function(e){var t=[];return e.initialMessages||t.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),t}(a);if(p.length)return{invalidPropsError:f=p.reduce((function(e,t){return e+t}),"")};var h=function(e){return e.state?e.state:{}}(a);s&&Array.isArray(s)?a.initialMessages=N([],s,!0):"string"==typeof s&&Boolean(s)&&(c||(a.initialMessages=[]));var v,y,b,w=t().useState(j({messages:N([],a.initialMessages,!0)},h)),E=w[0],P=w[1],S=t().useRef(E.messages),O=t().useRef(),C=t().useRef();(0,e.useEffect)((function(){S.current=E.messages})),(0,e.useEffect)((function(){s&&Array.isArray(s)&&P((function(e){return j(j({},e),{messages:s})}))}),[]),(0,e.useEffect)((function(){var e=C.current;return function(){if(m&&"function"==typeof m){var t=e.innerHTML.toString();m(S.current,t)}}}),[]),(0,e.useEffect)((function(){O.current=E}),[E]);var T=o,A=n;return M(T)&&M(A)?(v=new o(i,P,u,O.current,l,d),y=new x(P,v),b=new n(v,O.current),k(a).forEach((function(e){return null==y?void 0:y.addWidget(e,d)}))):(v=o,b=n,y=new x(P,null),k(a).forEach((function(e){return null==y?void 0:y.addWidget(e,d)}))),{widgetRegistry:y,actionProv:v,messagePars:b,configurationError:g,invalidPropsError:f,state:E,setState:P,messageContainerRef:C,ActionProvider:T,MessageParser:A}};var A=function(){return A=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},A.apply(this,arguments)},B=function(e,t,r){if(r||2===arguments.length)for(var a,o=0,n=t.length;o<n;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};const H=function(r){var a=r.actionProvider,o=r.messageParser,n=r.config,s=r.headerText,c=r.placeholderText,l=r.saveMessages,u=r.messageHistory,m=r.runInitialMessagesWithHistory,d=r.disableScrollToBottom,g=r.validator,f=r.emotionDetection,p=r.setEmotionDetection,h=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]])}return r}(r,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator","emotionDetection","setEmotionDetection"]),v=T(A({config:n,actionProvider:a,messageParser:o,messageHistory:u,saveMessages:l,runInitialMessagesWithHistory:m},h)),y=v.configurationError,b=v.invalidPropsError,w=v.ActionProvider,E=v.MessageParser,P=v.widgetRegistry,k=v.messageContainerRef,C=v.actionProv,x=v.messagePars,j=v.state,N=v.setState;if(y)return t().createElement(O,{message:y});if(b.length)return t().createElement(O,{message:b});var H=function(e){return e.customStyles?e.customStyles:{}}(n),R=function(e){return e.customComponents?e.customComponents:{}}(n),I=function(e){return e.botName?e.botName:"Bot"}(n),W=function(e){return e.customMessages?e.customMessages:{}}(n);return(0,e.useEffect)((function(){"bad"==f&&(console.log("Bad emotion detected!"),p("boosting mood"),N((function(e){return A(A({},e),{messages:B(B([],e.messages,!0),[i("Bad mood detected! Do you want to boost your mood?",null)],!1)})})))}),[f]),M(w)&&M(E)?t().createElement(S,{state:j,setState:N,widgetRegistry:P,actionProvider:C,messageParser:x,customMessages:W,customComponents:A({},R),botName:I,customStyles:A({},H),headerText:s,placeholderText:c,validator:g,messageHistory:u,disableScrollToBottom:d,messageContainerRef:k}):t().createElement(w,{state:j,setState:N,createChatBotMessage:i},t().createElement(E,null,t().createElement(S,{state:j,setState:N,widgetRegistry:P,actionProvider:w,messageParser:E,customMessages:W,customComponents:A({},R),botName:I,customStyles:A({},H),headerText:s,placeholderText:c,validator:g,messageHistory:u,disableScrollToBottom:d,messageContainerRef:k})))},R=H})(),module.exports=a})();